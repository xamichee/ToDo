{"version":3,"sources":["Header/Header.jsx","TodoListItem/TodoListItem.jsx","TodoList/TodoList.jsx","TasksFilter/TasksFilter.jsx","Footer/Footer.jsx","App/initialState.js","App/api.js","App/App.jsx","index.jsx"],"names":["Header","props","addItem","useState","label","setLabel","defaultProps","className","onSubmit","ev","preventDefault","type","placeholder","onChange","target","value","TodoListItem","onCheckClick","onDelete","onEdit","onEditSubmit","quest","title","id","done","created","timer","setTimer","timerColor","setTimerColor","pause","setPause","minutes","getMinutes","seconds","getSeconds","minutesDraw","secondsDraw","timePause","useEffect","interval","setInterval","tmr","clearInterval","classNames","completed","checked","aria-label","name","onClick","event","defaultValue","TodoList","quests","map","elem","TasksFilter","onFilter","Footer","onClearComplete","left","filters","initialState","date","Date","now","activeFilter","maxId","callback","newItem","formatDistanceToNow","addSuffix","includeSeconds","createItem","Quest","App","setQuests","setFilters","setActiveFilter","filter","length","questsToRender","qsts","idx","findIndex","el","slice","deleteItem","editItem","array","onCheck","oldItem","callback1","callback2","textContent","Filters","Quests","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc654882.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Header.css';\r\n\r\nexport default function Header(props) {\r\n  const {addItem} = props;\r\n  const [label, setLabel] = useState('');\r\n\r\n  Header.defaultProps = {\r\n    addItem: () => {\r\n    },\r\n  };\r\n\r\n  Header.propTypes = {\r\n    addItem: PropTypes.func,\r\n  }\r\n\r\n  const onLabelChange = (ev) => setLabel(ev.target.value);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <h1>todos</h1>\r\n      <form\r\n        onSubmit={(ev) => {\r\n          ev.preventDefault();\r\n          addItem(label);\r\n          setLabel('');\r\n        }}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          className=\"new-todo\"\r\n          placeholder=\"What needs to be done?\"\r\n          onChange={onLabelChange}\r\n          value={label}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './TodoListItem.css';\r\nimport classNames from 'classnames';\r\nimport { getMinutes, getSeconds } from 'date-fns';\r\n\r\nexport default function TodoListItem(props) {\r\n  const {onCheckClick, onDelete, onEdit, onEditSubmit, quest} = props;\r\n  const {title, id, done, created} = quest;\r\n\r\n  let {className} = quest;\r\n\r\n  const [label, setLabel] = useState(title);\r\n  const [timer, setTimer] = useState(0);\r\n  const [timerColor, setTimerColor] = useState('black');\r\n  const [pause, setPause] = useState(true);\r\n\r\n\r\n  const minutes = getMinutes(timer);\r\n  const seconds = getSeconds(timer);\r\n  const minutesDraw = minutes < 10 ? `0${minutes}` : minutes;\r\n  const secondsDraw = seconds < 10 ? `0${seconds}` : seconds;\r\n\r\n  TodoListItem.propTypes = {\r\n    quest: PropTypes.shape({\r\n      id: PropTypes.number,\r\n      done: PropTypes.bool,\r\n      title: PropTypes.string,\r\n      className: PropTypes.string,\r\n      created: PropTypes.string,\r\n    }).isRequired,\r\n    onCheckClick: PropTypes.func,\r\n    onDelete: PropTypes.func,\r\n    onEdit: PropTypes.func,\r\n    onEditSubmit: PropTypes.func,\r\n  }\r\n\r\n  TodoListItem.defaultProps = {\r\n    onCheckClick: () => {\r\n    },\r\n    onDelete: () => {\r\n    },\r\n    onEdit: () => {\r\n    },\r\n    onEditSubmit: () => {\r\n    },\r\n  };\r\n\r\n  const onLabelChange = (ev) => setLabel(ev.target.value);\r\n\r\n  const timeGo = () => {\r\n    if (pause && !done) {\r\n      setTimerColor('green');\r\n      setPause(false);\r\n    }\r\n  };\r\n\r\n  const timePause = () => {\r\n    if (!pause) {\r\n      setPause(true);\r\n      setTimerColor('black');\r\n    }\r\n  };\r\n\r\n  const toggleCheck = () => {\r\n    timePause();\r\n    onCheckClick();\r\n  }\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (!pause) {\r\n      const timerFunc = () => {\r\n        setTimer(tmr => tmr + 1000);\r\n      }\r\n      interval = setInterval(timerFunc, 1000);\r\n    }\r\n    return () => {\r\n      clearInterval(interval);\r\n    }\r\n  }, [pause]);\r\n\r\n  className = classNames(className, {\r\n    completed: done,\r\n  });\r\n\r\n  return (\r\n    <li className={className}>\r\n      <div className=\"view\">\r\n        <input className=\"toggle\" type=\"checkbox\" checked={!!done} onChange={toggleCheck}/>\r\n        <label>\r\n          <span className={`title ${timerColor}`}>{title}</span>\r\n          <span className=\"description timer\">\r\n              <button aria-label=\"play\" className=\"icon icon-play\" type=\"button\" name=\"play\" onClick={timeGo}/>\r\n              <button aria-label=\"pause\" className=\"icon icon-pause\" type=\"button\" name=\"pause\" onClick={timePause}/>\r\n              <span className=\"time\">\r\n                {minutesDraw}:{secondsDraw}\r\n              </span>\r\n            </span>\r\n          <span className=\"description\">{created}</span>\r\n        </label>\r\n        <button aria-label=\"edit\" type=\"button\" className=\"icon icon-edit\" onClick={onEdit}/>\r\n        <button aria-label=\"delete\" type=\"button\" className=\"icon icon-destroy\" onClick={onDelete}/>\r\n      </div>\r\n      <form\r\n        onSubmit={(event) => {\r\n          event.preventDefault();\r\n          onEditSubmit(id, label);\r\n        }}\r\n      >\r\n        <input type=\"text\" className=\"edit\" defaultValue={title} onChange={onLabelChange}/>\r\n      </form>\r\n    </li>\r\n  );\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './TodoList.css';\r\nimport TodoListItem from '../TodoListItem/TodoListItem';\r\n\r\nexport default function TodoList(props) {\r\n  TodoList.defaultProps = {\r\n    onDelete: () => {\r\n    },\r\n    onEdit: () => {\r\n    },\r\n    onCheckClick: () => {\r\n    },\r\n    onEditSubmit: () => {\r\n    },\r\n  };\r\n\r\n  TodoList.propTypes = {\r\n    quests: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    onDelete: PropTypes.func,\r\n    onEdit: PropTypes.func,\r\n    onCheckClick: PropTypes.func,\r\n    onEditSubmit: PropTypes.func,\r\n  };\r\n\r\n  const {quests, onDelete, onEdit, onCheckClick, onEditSubmit} = props;\r\n\r\n  return (\r\n    <ul className=\"todo-list\">\r\n      {quests.map((elem) => (\r\n        <TodoListItem\r\n          key={elem.id}\r\n          quest={elem}\r\n          onDelete={() => onDelete(elem.id)}\r\n          onEdit={() => onEdit(elem.id)}\r\n          onCheckClick={() => onCheckClick(elem.id)}\r\n          onEditSubmit={onEditSubmit}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './TasksFilter.css';\r\n\r\nexport default function TasksFilter(props) {\r\n  const {elem, onFilter} = props;\r\n\r\n  TasksFilter.defaultProps = {\r\n    onFilter: () => {\r\n    },\r\n  };\r\n\r\n  TasksFilter.propTypes = {\r\n    elem: PropTypes.shape({\r\n      id: PropTypes.number,\r\n      name: PropTypes.string,\r\n      className: PropTypes.string,\r\n    }).isRequired,\r\n    onFilter: PropTypes.func,\r\n  };\r\n\r\n  return (\r\n    <li>\r\n      <button type=\"button\" className={elem.className} onClick={onFilter}>\r\n        {elem.name}\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TasksFilter from '../TasksFilter/TasksFilter';\r\nimport './Footer.css';\r\n\r\nexport default function Footer(props) {\r\n  const {onFilter, onClearComplete, left, filters} = props;\r\n\r\n  Footer.defaultProps = {\r\n    onFilter: () => {\r\n    },\r\n    onClearComplete: () => {\r\n    },\r\n  };\r\n\r\n  Footer.propTypes = {\r\n    onFilter: PropTypes.func,\r\n    onClearComplete: PropTypes.func,\r\n    left: PropTypes.number.isRequired,\r\n    filters: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  };\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <span className=\"todo-count\">{left} items left</span>\r\n      <ul className=\"filters\">\r\n        {filters.map((elem) => (\r\n          <TasksFilter key={elem.id} elem={elem} onFilter={onFilter}/>\r\n        ))}\r\n      </ul>\r\n      <button type=\"button\" className=\"clear-completed\" onClick={onClearComplete}>\r\n        Clear completed\r\n      </button>\r\n    </footer>\r\n  );\r\n};\r\n","const initialState = {\r\n  quests: [\r\n    { id: 1, done: false, title: 'Пункт 1', className: '', date: Date.now(), created: null },\r\n    { id: 2, done: false, title: 'Пункт 2', className: '', date: Date.now(), created: null },\r\n    { id: 3, done: false, title: 'Пункт 3', className: '', date: Date.now(), created: null },\r\n  ],\r\n\r\n  filters: [\r\n    { id: 1, name: 'All', className: 'selected' },\r\n    { id: 2, name: 'Active', className: '' },\r\n    { id: 3, name: 'Completed', className: '' },\r\n  ],\r\n\r\n  activeFilter: 'All'\r\n};\r\n\r\nexport default initialState;","import formatDistanceToNow from \"date-fns/formatDistanceToNow\";\r\n\r\nlet maxId = 5;\r\n\r\nconst createItem = (title) => {\r\n  maxId += 1;\r\n  return {\r\n    id: maxId,\r\n    done: false,\r\n    title,\r\n    className: '',\r\n    date: Date.now(),\r\n    created: formatDistanceToNow(Date.now(), {addSuffix: true, includeSeconds: true}),\r\n  }\r\n};\r\n\r\nexport function addItem(title, callback) {\r\n  const newItem = createItem(title);\r\n  callback((Quest) => [newItem, ...Quest]);\r\n}\r\n\r\nexport function onCheck(id, array, callback) {\r\n  const idx = array.findIndex((el) => el.id === id);\r\n  const newItem = { ...array[idx], done: !array[idx].done };\r\n  callback((Quest) => [...Quest.slice(0, idx), newItem, ...Quest.slice(idx + 1)]);\r\n}\r\n\r\nexport function deleteItem(id, callback) {\r\n  callback(qsts => {\r\n    const idx = qsts.findIndex((el) => el.id === id);\r\n    return [...qsts.slice(0, idx), ...qsts.slice(idx + 1)]\r\n  });\r\n}\r\n\r\nexport function editItem (id, callback)  {\r\n  callback(Quest => {\r\n    const idx = Quest.findIndex((el) => el.id === id);\r\n    const newItem = { ...Quest[idx], className: 'editing' };\r\n\r\n    return [...Quest.slice(0, idx), newItem, ...Quest.slice(idx + 1)]\r\n  });\r\n}\r\n\r\nexport function onEditSubmit (id, value, callback) {\r\n  callback(Quest => {\r\n    const idx = Quest.findIndex((el) => el.id === id);\r\n    if (value) {\r\n      const newItem = { ...Quest[idx], title: value, className: '' };\r\n      return  [...Quest.slice(0, idx), newItem, ...Quest.slice(idx + 1)]\r\n    }\r\n    const oldItem = { ...Quest[idx], className: '' };\r\n    return [...Quest.slice(0, idx), oldItem, ...Quest.slice(idx + 1)]\r\n  });\r\n}\r\n\r\nexport function onFilter (event, callback1, callback2) {\r\n  callback1(event.target.textContent);\r\n  callback2(Filters => Filters.map((elem) =>\r\n    event.target.textContent === elem.name ? { ...elem, className: 'selected' } : { ...elem, className: '' })\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\n\nimport Header from '../Header/Header';\nimport TodoList from '../TodoList/TodoList';\nimport Footer from '../Footer/Footer';\n\nimport './App.css';\nimport initialState from './initialState';\nimport {onCheck, addItem, deleteItem, editItem, onEditSubmit, onFilter} from \"./api\";\n\nexport default function App() {\n  const [quests, setQuests] = useState(initialState.quests);\n  const [filters, setFilters] = useState(initialState.filters);\n  const [activeFilter, setActiveFilter] = useState(initialState.activeFilter);\n\n  useEffect(() => {\n    setQuests((Quest) => Quest.map((elem) => ({\n        ...elem,\n        created: formatDistanceToNow(elem.date, {addSuffix: true, includeSeconds: true})\n      }))\n    );\n\n    const interval = setInterval(() => {\n      setQuests((Quest) => Quest.map((elem) => ({\n          ...elem,\n          created: formatDistanceToNow(elem.date, {addSuffix: true, includeSeconds: true})\n        }))\n      )\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, [])\n\n  const onCheckClick = (id) => onCheck(id, quests, setQuests);\n\n  const addTodoItem = (title) => addItem(title, setQuests);\n\n  const deleteTodoItem = (id) => deleteItem(id, setQuests);\n\n  const editTodoItem = (id) => editItem(id, setQuests);\n\n  const onEditItemSubmit = (id, value) => onEditSubmit(id, value, setQuests)\n\n  const onItemsFilter = (event) => onFilter(event, setActiveFilter, setFilters);\n\n  const onClearComplete = () => {\n    setQuests(Quests => Quests.filter((elem) => !elem.done))\n  };\n\n  const left = quests.filter((elem) => !elem.done).length;\n\n  const questsToRender = (activeFilter === 'All') ? quests : quests.map((elem) => {\n    switch (activeFilter) {\n      case 'Completed':\n        if (!elem.done) return {...elem, className: 'hidden'};\n        return {...elem, className: ''};\n      case 'Active':\n        if (elem.done) return {...elem, className: 'hidden'};\n        return {...elem, className: ''};\n      default:\n        return null;\n    }\n  });\n\n  return (\n    <section className=\"todoapp\">\n      <Header addItem={addTodoItem}/>\n      <section className=\"main\">\n        <TodoList\n          quests={questsToRender}\n          onDelete={deleteTodoItem}\n          onEdit={editTodoItem}\n          onCheckClick={onCheckClick}\n          onEditSubmit={onEditItemSubmit}\n        />\n        <Footer onFilter={onItemsFilter} onClearComplete={onClearComplete} left={left} filters={filters}/>\n      </section>\n    </section>\n  )\n};\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport './style.css';\nimport App from './App/App';\n\nReactDom.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}